import{l as j,_ as L,a as C,s as P,u as D,m as E,b as d,o as n,e as h,f as i,g as s,w as l,h as A,n as f,q,v as N,t as G,F as w,x as I,i as y,j as T,y as S,z as U,A as B,B as Z,p as H,k as O,C as J,D as Q,G as R,r as K}from"./index.1b586fd5.js";import{m as M,a as W,b as X}from"./menu.e9cdc90f.js";const F=j("mainStore",{state:()=>({collapseFlag:!1,breadList:[]}),actions:{expand(o){this.collapseFlag=o},setBreadList(o){this.breadList=o}}});const Y=o=>(H("data-v-ba71ff64"),o=o(),O(),o),ee={class:"left-box"},te={class:"tools"},ae={class:"user_box"},ne=Y(()=>i("img",{src:"https://tse3-mm.cn.bing.net/th/id/OIP-C.ooGOtfne6QeEzzVi2ZRQIQAAAA?w=218&h=218&c=7&r=0&o=5&dpr=2&pid=1.7",alt:""},null,-1)),le={class:"user"},oe={__name:"Nav",setup(o){const a=C(!1),p=F(),{breadList:v}=P(p),c=D(),x=E("username");function g(){a.value=!a.value,p.collapseFlag=a.value}function _(){Z("role"),c.push({path:"/login"})}return(t,r)=>{const e=d("el-icon"),m=d("el-breadcrumb-item"),b=d("el-breadcrumb"),$=d("el-dropdown-item"),z=d("el-dropdown-menu"),u=d("el-dropdown");return n(),h("nav",{style:B({left:f(p).collapseFlag?"64px":"220px"})},[i("div",ee,[s(e,{size:"28px",class:"btn",onClick:g},{default:l(()=>[A(s(f(q),null,null,512),[[N,!a.value]]),A(s(f(G),null,null,512),[[N,a.value]])]),_:1}),s(b,{"separator-icon":f(U),class:"bread_list"},{default:l(()=>[(n(!0),h(w,null,I(f(v),(k,V)=>(n(),y(m,{to:{path:k.path||""},key:V},{default:l(()=>[T(S(k.title),1)]),_:2},1032,["to"]))),128))]),_:1},8,["separator-icon"])]),i("div",te,[s(u,null,{dropdown:l(()=>[s(z,null,{default:l(()=>[s($,{onClick:_},{default:l(()=>[T("\u9000\u51FA\u767B\u5F55")]),_:1})]),_:1})]),default:l(()=>[i("div",ae,[ne,i("span",le,S(f(x)),1)])]),_:1})])],4)}}},se=L(oe,[["__scopeId","data-v-ba71ff64"]]),ce=""+new URL("vue.5532db34.svg",import.meta.url).href;const _e=o=>(H("data-v-f6f8ae07"),o=o(),O(),o),re=_e(()=>i("img",{src:ce,alt:""},null,-1)),ue={class:"text"},de={__name:"SideBar",setup(o){const a=C([]),p=J();let v=E("role");v==1?a.value=M:v==2?a.value=W:a.value=X;const c=C("/home"),x=F(),{collapseFlag:g}=P(x);Q(()=>p.path,t=>{_({index:t})},{immediate:!0});function _(t){c.value=t.index;let r=[];a.value.map(e=>{var m;e.path==t.index?r.push({title:e.label,path:e.path}):(m=e.children)==null||m.map(b=>{b.path==t.index&&(r=[{title:e.label},{title:b.label,path:b.path}])})}),console.log(r),x.setBreadList(r)}return(t,r)=>{const e=d("el-icon"),m=d("el-menu-item"),b=d("el-menu-item-group"),$=d("el-sub-menu"),z=d("el-menu");return n(),h("div",{class:"menu",style:B({width:f(g)?"64px":"220px"})},[i("div",{class:"logo",onClick:r[0]||(r[0]=(...u)=>t.alertHandle&&t.alertHandle(...u))},[re,A(i("span",ue,"\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",512),[[N,!f(g)]])]),s(z,{"background-color":"#324157",collapse:f(g),"text-color":"#d7d7d7","active-text-color":"#fff","default-active":c.value,router:"","unique-opened":!0},{default:l(()=>[(n(!0),h(w,null,I(a.value,u=>(n(),h(w,{key:u.id},[u.children?(n(),y($,{key:0,index:u.id},{title:l(()=>[s(e,null,{default:l(()=>[(n(),y(R(u.icon)))]),_:2},1024),i("span",null,S(u.label),1)]),default:l(()=>[s(b,null,{default:l(()=>[(n(!0),h(w,null,I(u.children,k=>(n(),y(m,{index:k.path,key:k.id,onClick:_},{default:l(()=>[i("span",null,S(k.label),1)]),_:2},1032,["index"]))),128))]),_:2},1024)]),_:2},1032,["index"])):(n(),y(m,{key:1,index:u.path,onClick:_},{default:l(()=>[s(e,null,{default:l(()=>[(n(),y(R(u.icon)))]),_:2},1024),i("span",null,S(u.label),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["collapse","default-active"])],4)}}},ie=L(de,[["__scopeId","data-v-f6f8ae07"]]);const pe={__name:"PageTag",setup(o){const a=D(),p=C(""),v=F(),c=K([]);Q(()=>v.breadList,_=>{let t=_[_.length-1];c.findIndex(e=>e.path==t.path)==-1&&(c.push(t),p.value=t.path)},{immediate:!0});function x(_){let t=c.findIndex(r=>r.path==_.path);t!=-1&&(c.splice(t,1),c.length&&a.push({path:c[c.length-1].path}))}function g(_){p.value=_,a.push({path:_})}return(_,t)=>{const r=d("el-tag");return n(),h("div",{class:"pageTags",style:B({left:f(v).collapseFlag?"64px":"220px"})},[(n(!0),h(w,null,I(c,e=>(n(),y(r,{key:e.path,class:"mx-1",closable:"",effect:p.value==e.path?"dark":"plain","disable-transitions":!1,onClose:m=>x(e),onClick:m=>g(e.path),size:"large"},{default:l(()=>[T(S(e.title),1)]),_:2},1032,["effect","onClose","onClick"]))),128))],4)}}},fe=L(pe,[["__scopeId","data-v-dfb94097"]]);const me={class:"main"},he={__name:"layout",setup(o){const a=F(),{collapseFlag:p}=P(a);return(v,c)=>{const x=d("router-view");return n(),h(w,null,[s(ie),i("div",{class:"container",style:B({marginLeft:f(p)?"64px":"220px"})},[s(se),s(fe),i("div",me,[s(x)])],4)],64)}}},ge=L(he,[["__scopeId","data-v-5d34eee3"]]);export{ge as default};
