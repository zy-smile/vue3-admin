import{l as j,_ as B,a as C,s as P,u as R,m as E,b as d,o as n,e as h,f as i,g as o,w as l,h as A,n as f,q,v as N,t as G,F as w,x as I,i as y,j as T,y as S,z as Z,A as L,B as J,p as H,k as O,C as K,D as Q,G as D,r as M}from"./index.1e8d2716.js";import{m as U,a as W,b as X}from"./menu.65bbd404.js";const F=j("mainStore",{state:()=>({collapseFlag:!1,breadList:[]}),actions:{expand(s){this.collapseFlag=s},setBreadList(s){this.breadList=s}}});const Y=s=>(H("data-v-ba71ff64"),s=s(),O(),s),ee={class:"left-box"},te={class:"tools"},ae={class:"user_box"},ne=Y(()=>i("img",{src:"https://tse3-mm.cn.bing.net/th/id/OIP-C.ooGOtfne6QeEzzVi2ZRQIQAAAA?w=218&h=218&c=7&r=0&o=5&dpr=2&pid=1.7",alt:""},null,-1)),le={class:"user"},se={__name:"Nav",setup(s){const a=C(!1),p=F(),{breadList:v}=P(p),c=R(),x=E("username");function g(){a.value=!a.value,p.collapseFlag=a.value}function _(){J("role"),c.push({path:"/login"})}return(t,u)=>{const e=d("el-icon"),m=d("el-breadcrumb-item"),b=d("el-breadcrumb"),$=d("el-dropdown-item"),z=d("el-dropdown-menu"),r=d("el-dropdown");return n(),h("nav",{style:L({left:f(p).collapseFlag?"64px":"220px"})},[i("div",ee,[o(e,{size:"28px",class:"btn",onClick:g},{default:l(()=>[A(o(f(q),null,null,512),[[N,!a.value]]),A(o(f(G),null,null,512),[[N,a.value]])]),_:1}),o(b,{"separator-icon":f(Z),class:"bread_list"},{default:l(()=>[(n(!0),h(w,null,I(f(v),(k,V)=>(n(),y(m,{to:{path:k.path||""},key:V},{default:l(()=>[T(S(k.title),1)]),_:2},1032,["to"]))),128))]),_:1},8,["separator-icon"])]),i("div",te,[o(r,null,{dropdown:l(()=>[o(z,null,{default:l(()=>[o($,{onClick:_},{default:l(()=>[T("\u9000\u51FA\u767B\u5F55")]),_:1})]),_:1})]),default:l(()=>[i("div",ae,[ne,i("span",le,S(f(x)),1)])]),_:1})])],4)}}},oe=B(se,[["__scopeId","data-v-ba71ff64"]]),ce="/assets/vue.5532db34.svg";const _e=s=>(H("data-v-f6f8ae07"),s=s(),O(),s),ue=_e(()=>i("img",{src:ce,alt:""},null,-1)),re={class:"text"},de={__name:"SideBar",setup(s){const a=C([]),p=K();let v=E("role");v==1?a.value=U:v==2?a.value=W:a.value=X;const c=C("/home"),x=F(),{collapseFlag:g}=P(x);Q(()=>p.path,t=>{_({index:t})},{immediate:!0});function _(t){c.value=t.index;let u=[];a.value.map(e=>{var m;e.path==t.index?u.push({title:e.label,path:e.path}):(m=e.children)==null||m.map(b=>{b.path==t.index&&(u=[{title:e.label},{title:b.label,path:b.path}])})}),console.log(u),x.setBreadList(u)}return(t,u)=>{const e=d("el-icon"),m=d("el-menu-item"),b=d("el-menu-item-group"),$=d("el-sub-menu"),z=d("el-menu");return n(),h("div",{class:"menu",style:L({width:f(g)?"64px":"220px"})},[i("div",{class:"logo",onClick:u[0]||(u[0]=(...r)=>t.alertHandle&&t.alertHandle(...r))},[ue,A(i("span",re,"\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",512),[[N,!f(g)]])]),o(z,{"background-color":"#324157",collapse:f(g),"text-color":"#d7d7d7","active-text-color":"#fff","default-active":c.value,router:"","unique-opened":!0},{default:l(()=>[(n(!0),h(w,null,I(a.value,r=>(n(),h(w,{key:r.id},[r.children?(n(),y($,{key:0,index:r.id},{title:l(()=>[o(e,null,{default:l(()=>[(n(),y(D(r.icon)))]),_:2},1024),i("span",null,S(r.label),1)]),default:l(()=>[o(b,null,{default:l(()=>[(n(!0),h(w,null,I(r.children,k=>(n(),y(m,{index:k.path,key:k.id,onClick:_},{default:l(()=>[i("span",null,S(k.label),1)]),_:2},1032,["index"]))),128))]),_:2},1024)]),_:2},1032,["index"])):(n(),y(m,{key:1,index:r.path,onClick:_},{default:l(()=>[o(e,null,{default:l(()=>[(n(),y(D(r.icon)))]),_:2},1024),i("span",null,S(r.label),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["collapse","default-active"])],4)}}},ie=B(de,[["__scopeId","data-v-f6f8ae07"]]);const pe={__name:"PageTag",setup(s){const a=R(),p=C(""),v=F(),c=M([]);Q(()=>v.breadList,_=>{let t=_[_.length-1];c.findIndex(e=>e.path==t.path)==-1&&(c.push(t),p.value=t.path)},{immediate:!0});function x(_){let t=c.findIndex(u=>u.path==_.path);t!=-1&&(c.splice(t,1),c.length&&a.push({path:c[c.length-1].path}))}function g(_){p.value=_,a.push({path:_})}return(_,t)=>{const u=d("el-tag");return n(),h("div",{class:"pageTags",style:L({left:f(v).collapseFlag?"64px":"220px"})},[(n(!0),h(w,null,I(c,e=>(n(),y(u,{key:e.path,class:"mx-1",closable:"",effect:p.value==e.path?"dark":"plain","disable-transitions":!1,onClose:m=>x(e),onClick:m=>g(e.path),size:"large"},{default:l(()=>[T(S(e.title),1)]),_:2},1032,["effect","onClose","onClick"]))),128))],4)}}},fe=B(pe,[["__scopeId","data-v-dfb94097"]]);const me={class:"main"},he={__name:"layout",setup(s){const a=F(),{collapseFlag:p}=P(a);return(v,c)=>{const x=d("router-view");return n(),h(w,null,[o(ie),i("div",{class:"container",style:L({marginLeft:f(p)?"64px":"220px"})},[o(oe),o(fe),i("div",me,[o(x)])],4)],64)}}},ge=B(he,[["__scopeId","data-v-5d34eee3"]]);export{ge as default};
